<!DOCTYPE html>
<html lang="en">
<head>
<meta encoding="utf-8">
<title>XSLT</title>
</head>
<body>

<object id="xslt-object" type="text/xml" data="data/examplexsl.xml" width="800" height="300">
</object>

<pre>
<code id="output">

</code>
</pre>

<script type="text/javascript">

(function(){

function documentLoaded(){

	if(!('XMLSerializer' in window)){
	console.log('XSLTProcessor does not appear to be available in this browser. Please try another.');
	return;
	}

	//object
	serializeFromElement("xslt-object");
}

function serializeFromElement(value){
	
	//get the object
	const xsltobject = document.getElementById(value);
	
	//get the output location
	const output = document.getElementById("output");
	
	//getting the document
	const xsltDoc = xsltobject.contentDocument.documentElement;
	
	
	//serialize the XML to a string
	let s = new XMLSerializer();
	let str = null;
	try{
 		str = s.serializeToString(xsltDoc);
 		output.textContent = str;
	}catch(error){
		console.log(error);
	}
}

window.addEventListener("load", documentLoaded, false);
}) ();
</script>
</body>
</html>
